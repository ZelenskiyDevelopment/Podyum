<div class="container" style="margin-top:100px">
  <div class="row">
    <div class="col-md-9 col-sm-9 col-xs-12" style="margin-bottom: 5px;">
      <div class="col-xs-12" style="padding-left:0px; padding-right:0px;">
        <profile-basic-data user="user" owner="owner" myteams="myTeams" mypresentteams="myPresentTeams"
                            onassign="assign()" onrecruit="recruit()" onleave="leave()"
                            onclickfollow="follow()" onclickunfollow="unfollow()" onclickfriend="friend()" edit="edit()"
                            route="route" showedit="canEdit"></profile-basic-data>
      </div>
      <div class="row">
        <div class="col-xs-12" style="margin: 30px 0 0 0">
          <profile-navbar></profile-navbar>
          <div
                  style="background-color:#FFF; min-height:600px;">
            <div ui-view></div>
          </div>
        </div>
      </div>
    </div>

    <div id="right_sidebar" class="col-md-3 col-sm-3 col-xs-12">
      <div ng-switch="user.kind">
        <div ng-switch-when="player">
            <div class="user-profile-side">
              <div class="row">
                <div class="col-xs-12">
                  <h2>2015 Goals</h2>
                </div>
              </div>
              <div class="row">
                <milestones></milestones>
                <!--<ul style="list-style-type: none;">
                  <li><input type="checkbox" ng-checked="true" disabled/> 500 pts season</li>
                  <li><input type="checkbox" ng-checked="false" disabled/> 8 three pointers in one game</li>
                  <li><input type="checkbox" ng-checked="true" disabled/> 50 pts in one game</li>
                </ul>-->
              </div>
              <div class="row">
                <div class="col-xs-12">
                  <h4 style="text-align: center">Upcoming milestones</h4>
                </div>
              </div>
              <div class="row" style="padding-left: 15px;">
                <ul>
                  <li>Average over 50 points per game</li>
                  <li>10 game win streak</li>
                  <li>Average over 20 assists per game</li>
                </ul>
              </div>
            </div>
            <div class="user-profile-stats">
              <div ng-repeat="event in statsNames[currentActiveType]" class="stat-boxes">
                <stat-box header="{{event}}" content="{{myStats[currentActiveTypeInd].data[$index]}}"></stat-box>
              </div>
            </div>
        </div>
        <div ng-switch-when="league">
          <div>
            <table class="table table-bordered">
              <tr>
                <th>Team</th>
                <th>Wins</th>
                <th>Loses</th>
              </tr>
              <tr ng-repeat="item in myStandings | orderBy:'-wins'">
                <th>
                  <a ui-sref="profile.common-story({id: item.id})">
                    {{item.teamName}}
                  </a>
                </th>
                <th>{{item.wins}}</th>
                <th>{{item.loses}}</th>
              </tr>
            </table>
          </div>
          Upcoming schedule:
          <table class="table table-bordered">
            <tr>
              <th>Date</th>
              <th>Home</th>
              <th>Away</th>
            </tr>
            <tr ng-repeat="game in upcoming |orderBy:'date' | limitTo:5">
              <th>{{game.date | date:'medium'}}</th>
              <th>
                <a ui-sref="profile.common-story({id: game.team1._id})">
                  {{game.team1.team.name}}
                </a>
              </th>
              <th>
                <a ui-sref="profile.common-story({id: game.team2._id})">
                  {{game.team2.team.name}}
                </a>
              </th>
            </tr>
          </table>
          Previous matches:
          <table class="table table-bordered">
            <tr>
              <th>Date</th>
              <th>Home</th>
              <th>Away</th>
              <th>Result</th>
            </tr>
            <tr ng-repeat="game in previous |orderBy:'-date' | limitTo:5">
              <th>{{game.date | date:'medium'}}</th>
              <th>
                <a ui-sref="profile.common-story({id: game.team1._id})">
                  {{game.team1.team.name}}
                </a>
              </th>
              <th>
                <a ui-sref="profile.common-story({id: game.team2._id})">
                  {{game.team2.team.name}}
                </a>
              </th>
              <th>
                {{game.data.score1}}-{{game.data.score2}}
              </th>
            </tr>
          </table>
        </div>
        <!--<div ng-switch-when="team">
          <div>
            <simple-calendar events="user.events" options="calendarOptions" newevent="newEvent"></simple-calendar>
          </div>
        </div>-->
        <div ng-if="user.kind ==='team'" class="team-profile-side">
          <h2>Photos</h2>
          <div class="row">
            <div ng-repeat="player in myPlayers" class="col-sm-6 col-xs-6">
              <a ui-sref="profile.common-story({id: player.user._id})" class="thumbnail">
                <img src="photos/{{player.user.profilePhoto}}" alt="" class="" style="width:100%; height:50px;">
                <p>{{player.user.player.firstName}} {{player.user.player.lastName}}</p>
              </a>
            </div>
          </div>
        </div>
        <div ng-if="user.kind === 'team'" class="team-profile-side">
          <h2>Upcoming events:</h2>
          <table class="table">
            <tr>
              <th>Date</th>
              <th>Event</th>
            </tr>
            <tr ng-repeat="event in upcoming |orderBy:'event.date' | limitTo:5">
              <td>{{event.event.date | date:'medium'}}</td>
              <td>
                {{event.event.title}}
              </td>
            </tr>
          </table>
          <h2>Previous events:</h2>
          <table class="table">
            <tr>
              <th>Date</th>
              <th>Event</th>
            </tr>
            <tr ng-repeat="event in previous |orderBy:'-event.date' | limitTo:5">
              <td>{{event.event.date | date:'medium'}}</td>
              <td>
                {{event.event.title}}
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
