<div class="container" style="margin-top:100px">

  <script type="text/ng-template" id="joinToTeam.html">
    <form class="form-horizontal" name="joinTeam" ng-submit="send(joinTeam)">

      <div class="modal-header">
        <h3 class="modal-title">Join To Team</h3>
      </div>
      <div class="modal-body">

        <md-input-container>
          <label>Teams</label>
          <md-select ng-model="team" name="selectTeam" required>
            <md-option value="">Select team</md-option>
            <md-option ng-repeat="team in teams" value="{{team._id}}">
              {{team.teamName}}
            </md-option>
          </md-select>

          <div ng-messages="joinTeam.selectTeam.$error" ng-show="joinTeam.selectTeam.$dirty">
            <div ng-message="required">This is required!</div>
          </div>
        </md-input-container>


      </div>
      <div class="modal-footer">
        <button class="btn btn-warning" type="submit">Send Request</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
      </div>
    </form>
  </script>
  <div ui-view="" class="ng-scope"></div>

  <div class="row" ng-show="checkState('teams')">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-3">
          <div style="text-align:center;" class="info-card" style="height: 250px">
            <div class="main-picture"><img alt="" ng-src="photos/user.png" src="photos/user.png"></div>
            <div ng-switch="user.kind" class="kind-user"><!-- ngSwitchWhen: player --><!-- ngSwitchWhen: coach -->
              <!-- ngSwitchWhen: team -->
              <div ng-switch-when="team" class="ng-scope"><h3 class="ng-binding"> {{user.team.name}}</h3></div>
              <!-- end ngSwitchWhen: --><!-- ngSwitchWhen: league --><!-- ngSwitchWhen: fan --></div>
            <div class="follower-user"><p><span class="total ng-binding">  {{followersNumber}}&nbsp;</span><span>Loyal Fans</span>
            </p>
            </div>
            <div class="user-profile-stats">
              <div ng-repeat="event in statsNames[currentActiveType]" class="stat-boxes">
                <stat-box header="{{event}}" content="{{myStats[currentActiveTypeInd].data[$index]}}"></stat-box>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">


          <div ng-switch="user.kind">
            <div ng-switch-when="player">
              <div class="user-profile-side">
                <div class="row">
                  <div class="col-xs-12">
                    <h2>2015 Goals</h2>
                  </div>
                </div>
                <div class="row">
                  <milestones></milestones>
                </div>
                <div class="row">
                  <div class="col-xs-12">
                    <h4 style="text-align: center">Upcoming milestones</h4>
                  </div>
                </div>
                <div class="row" style="padding-left: 15px;">
                  <ul>
                    <li>Average over 50 points per game</li>
                    <li>10 game win streak</li>
                    <li>Average over 20 assists per game</li>
                  </ul>
                </div>
              </div>
              <div class="user-profile-stats">
                <div ng-repeat="event in statsNames[currentActiveType]" class="stat-boxes">
                  <stat-box header="{{event}}" content="{{myStats[currentActiveTypeInd].data[$index]}}"></stat-box>
                </div>
              </div>
            </div>
            <div ng-switch-when="league" class="team-profile-side">
              <div class="sponsor-block">
                <a href=""><img src="assets/images/logo.png" alt=""/></a>
                <h4>Proud Sponsor</h4>
              </div>
              <div class="choose-sport form-group">
                <select name="sport" id="league-select">
                  <option value="0">2015 Novi Sad Dukes</option>
                </select>
              </div>
              <table class="table table-resultate">
                <tr>
                  <th>Team</th>
                  <th>Conf</th>
                  <th>All</th>
                </tr>
                <tr ng-repeat="game in games|orderBy:'-date' | limitTo:5">
                  <td>
                    <a ui-sref="profile.common-story({id: game.team1._id})">
                      {{game.team1.team.name}}
                    </a>
                  </td>
                  <td>
                    {{game.data.score1}}
                  </td>
                  <td>
                    {{game.data.score2}}
                  </td>
                </tr>

              </table>
            </div>
            <div ng-if="user.kind === 'team'" class="team-profile-side">
              <div class="col-md-12">
                <!-- ngIf: myTeam.length > 0 && user.kind == 'player' && myTeam.accepted === true -->
                <div ng-hide="checkState('teams.schedule') || checkState('teams.manageRoster')"
                     class="col-lg-6 col-lg-offset-3 padding-bottom" aria-hidden="false">
                  <a ui-sref="teams.addTeam" class="btn btn-default our-button" href="/teams/add-team" aria-hidden="false" style=" color: #fff">Create a Team</a>
                </div>
                <!-- ngIf: user.kind == 'team' || user.kind == 'coach' -->
                <div ng-hide="checkState('teams.schedule') || checkState('teams.manageRoster')"
                     ng-if="user.kind == 'team' || user.kind == 'coach'" class="ng-scope" aria-hidden="false">
                  <div ng-show="" class="col-md-12" aria-hidden="false">
                    <div class="navbar-default">
                      <ul class="nav navbar-nav">
                        <li ng-class="{ active: isActive('/teams/update-team') }">
                          <!-- ngIf: user.kind == 'team' || user.kind == 'coach' -->
                          <a ui-sref="teams.updateTeam" data-toggle="modal" role="button"
                             ng-if="user.kind == 'team' || user.kind == 'coach'" class="item-menu"
                             href="/teams/update-team">Update Team</a>
                          <!-- end ngIf: user.kind == 'team' || user.kind == 'coach' -->
                        </li>
                        <li ng-class="{ active: isActive('/teams/task-manager') }">
                          <a ui-sref="teams.taskManager" data-toggle="modal" role="button" class="item-menu"
                             href="/teams/task-manager">Task Manager</a>
                        </li>
                        <li ng-class="{ active: isActive('/teams/fans') }">
                          <a ui-sref="teams.fans" data-toggle="modal" role="button" class="item-menu">Fans</a>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div><!-- end ngIf: user.kind == 'team' || user.kind == 'coach' -->
              </div>
            </div>
          </div>


        </div>
        <div class="col-md-3">
          <div class="upcoming-schedule" style="height: 250px">
            <div class="table-header"><h3>Team Goals</h3></div>
            <table class="table table-striped">
              <tr>
                <td width="10%">
                  <span class="goal goal-reached"></span>
                </td>
                <td width="90%">
                  <span>Hold opponent to under 60 points</span>
                </td>
              </tr>
              <tr>
                <td width="10%">
                  <span class="goal goal-unreached"></span>
                </td>
                <td width="90%">
                  <span>Avarage 34% from 3 point</span>
                </td>
              </tr>
              <tr>
                <td width="10%">
                  <span class="goal goal-unreached"></span>
                </td>
                <td width="90%">
                  <span>Win 15 games</span>
                </td>
              </tr>
              <tr>
                <td width="10%">
                  <span class="goal goal-unreached"></span>
                </td>
                <td width="90%">
                  <span>Win Championship</span>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div ng-cloak>
            <md-content>
              <md-tabs id="top-tabs" class="md-dynamic-height md-border-bottom" md-align-tabs="top" md-selected="3">
                <md-tab id="update-team" md-on-select="">
                  <md-tab-label>UPDATE TEAM</md-tab-label>
                  <md-tab-body>
                    Some body
                  </md-tab-body>
                </md-tab>
                <md-tab id="message-team" md-on-select="">
                  <md-tab-label>MESSAGE TEAM</md-tab-label>
                  <md-tab-body>
                    Some body
                  </md-tab-body>
                </md-tab>
                <md-tab id="task-manager" md-on-select="">
                  <md-tab-label>TASK MANAGER</md-tab-label>
                  <md-tab-body>
                    Some body
                  </md-tab-body>
                </md-tab>
                <md-tab id="notifications" md-on-select="">
                  <md-tab-label>DASHBOARD</md-tab-label>
                  <md-tab-body>
                    <div class="row row-advanced-controls-profile dark-grey">
                      <div class="col-md-12" style="text-align: center">
                        <h2>FAN ANALYTICS</h2>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-9 profile-content">
                        <md-tabs id="inside-tabs" class="md-dynamic-height md-border-bottom" md-align-tabs="top"
                                 md-selected="0">
                          <md-tab id="insights" md-on-select="changeDetalization(0)" label="INSIGHT">
                            <md-content class="inner-tab-content">
                            </md-content>
                          </md-tab>
                          <md-tab id="days" md-on-select="changeDetalization(1)" label="DAYS">
                            <md-content class="inner-tab-content">
                            </md-content>
                          </md-tab>
                          <md-tab id="weeks" md-on-select="changeDetalization(2)" label="WEEKS">
                            <md-content class="inner-tab-content">
                            </md-content>
                          </md-tab>
                          <md-tab id="month" md-on-select="changeDetalization(3)" label="MONTH">
                            <md-content class="inner-tab-content">
                            </md-content>
                          </md-tab>
                          <md-tab id="years" md-on-select="changeDetalization(4)" label="YEARS">
                            <md-content class="inner-tab-content">
                            </md-content>
                          </md-tab>
                        </md-tabs>
                        <div class="row light-gray">
                          <div class="col-md-12" style="padding-left: 50px;">
                            <div class="row  white">
                              <div class="col-md-12">
                                <nvd3 options="chartOptions" data="chartData"
                                      style="min-width: 300px; min-height: 300px; display: block;"></nvd3>
                              </div>
                            </div>
                            <div class="row  white">
                              <div class="col-md-6" style="padding-left: 50px;">
                                <h2>Fans by country</h2>

                                <div id="chartdiv" class="chartdiv"></div>
                                <div class="white">
                                  <ul class="list-unstyled country-list">
                                    <li ng-repeat="item in mapData | limitTo:mapDataLimit">
                                      <div class="row">
                                        <div class="col-md-1">
                                          <img src="{{item.flag}}" width="24" height="16"/>
                                        </div>
                                        <div class="col-md-8">
                                          {{item.name}}
                                        </div>
                                        <div class="col-md-3">
                                          {{item.value}}
                                        </div>
                                      </div>
                                    </li>
                                  </ul>
                                </div>
                                <div class="row white">
                                  <div class="col-md-12">
                                    <div class="view-all" ng-click="mapDataLimit = 300"
                                         ng-hide="mapDataLimit>10">
                                      <div class="view-all-content">
                                        View All
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6 white">
                                <h2>Link clicks</h2>

                                <div class="row white">
                                  <div class="col-md-12">
                                    <nvd3 options="pieChartOptions" data="pieChartData"
                                          style="min-width: 300px; min-height: 300px; display: block;"></nvd3>
                                  </div>
                                </div>
                                <div class="row white">
                                  <div class="col-md-12">
                                    <div class="">
                                      <ul class="list-unstyled country-list">
                                        <li ng-repeat="item in linksData | limitTo:linkDataLimit">
                                          <div class="row">
                                            <div class="col-md-10">
                                              {{item.link}}
                                            </div>
                                            <div class="col-md-2">
                                              {{item.views}}
                                            </div>
                                          </div>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                                <div class="row white">
                                  <div class="col-md-12">
                                    <div class="view-all" ng-click="linkDataLimit = 300"
                                         ng-hide="linkDataLimit>10">
                                      <div class="view-all-content">
                                        View All
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3 profile-sidebar">
                        <div class="row">
                          <div class="col-md-12">
                            <div class="upcoming-schedule" style="height: auto !important">
                              <div class="table-header">
                                <h3>Profile Views Tracker</h3>
                              </div>
                              <md-content class="light-gray info-card">
                                <md-list>
                                  <md-list-item class="md-3-line" ng-repeat="item in todos">
                                    <img ng-src="{{item.face}}?{{$index}}" class="md-avatar face"
                                         alt="{{item.name}}"
                                         width="55" height="55">

                                    <div class="md-list-item-text" layout="column">
                                      <h3>{{ item.name }}</h3>
                                      <h4>{{ item.position }}</h4>
                                    </div>
                                  </md-list-item>
                                </md-list>
                              </md-content>
                            </div>

                            <md-content style="overflow: hidden">
                              <div class="upcoming-schedule" style="height: auto !important">
                                <div class="table-header">
                                  <h3>Post & Pages</h3>
                                </div>
                                <div class="row white" style="padding-top: 20px;">
                                  <div class="col-md-9" style="padding-left: 30px;">
                                    Title
                                  </div>
                                  <div class="col-md-3">
                                    Views
                                  </div>
                                </div>
                                <div class="row white">
                                  <ul class="list-unstyled posts-list">
                                    <li ng-repeat="item in posts | limitTo:postsLimit">
                                      <div class="col-md-9">
                                        <a href="#">{{item.name}}</a>
                                      </div>
                                      <div class="col-md-3">
                                        {{item.views}}
                                      </div>
                                    </li>
                                  </ul>
                                </div>
                                <div class="row white">
                                  <div class="col-md-12">
                                    <div class="view-all" ng-click="postsLimit = 1000"
                                         ng-hide="postsLimit>100">
                                      <div class="view-all-content">
                                        View All
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </md-content>
                          </div>
                        </div>
                      </div>
                    </div>
                  </md-tab-body>
                </md-tab>
              </md-tabs>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

